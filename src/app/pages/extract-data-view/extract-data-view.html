<div class="container py-4">

  <!-- HEADER -->
  <div class="header-box shadow-sm mb-4">
    <h2 class="fw-bold text-center">ğŸ“„ Extracted Data</h2>
    <p class="text-muted text-center">Categorized intelligently from scanned handwritten notes.</p>

    <div class="text-center mt-3">
      <button class="btn btn-primary btn-lg px-4 rounded-pill"
              (click)="startExtraction()">
        <span *ngIf="!loading">âš¡ Refresh Data</span>
        <span *ngIf="loading">â³ Loading...</span>
      </button>
    </div>

    <div *ngIf="loading" class="text-center mt-3">
      <div class="spinner-border text-primary"></div>
      <p class="text-muted mt-2">Loading extracted data...</p>
    </div>
  </div>

  <!-- ERROR MESSAGE -->
  <div *ngIf="errorMsg" class="alert alert-danger" role="alert">
    {{ errorMsg }}
  </div>

  <!-- EMPTY STATE -->
  <div *ngIf="!loading && !errorMsg && extractedItems.length === 0" class="text-center py-5">
    <p class="text-muted">No extracted data found. Scan a journal page to get started!</p>
  </div>

  <!-- CARD GRID -->
  <div class="row g-4" *ngIf="!loading && extractedItems.length > 0">

    <div class="col-md-6 col-lg-4" *ngFor="let item of extractedItems">

      <div class="entry-card shadow-sm">

        <div class="top-section d-flex gap-3 align-items-start">

          <div class="symbol-box shadow-sm">
            {{ item.symbol }}
          </div>

          <div class="flex-grow-1">
            <h5 class="fw-semibold mb-1 text-dark">{{ item.title }}</h5>

            <div class="d-flex flex-wrap gap-2 mb-1">
              <span class="badge tag-type">
                {{ item.type }}
              </span>

              <span class="badge tag-status"
                    [ngClass]="{
                      'status-completed': item.status === 'Completed',
                      'status-progress': item.status === 'In Progress',
                      'status-none': item.status === 'None'
                    }">
                {{ item.status }}
              </span>
            </div>

            <small class="text-muted">{{ item.createdDate }}</small>
          </div>

        </div>

      </div>

    </div>

  </div>

</div>
